# 对于系统源码的理解


## 背景

之前对于apk运行的时候需要的源码来自哪里抱有疑惑，今天查阅了相关资料之后有了新的理解，其实我们平时在开发过程中as为了帮助我们开发者能够编译通过，把app开发需要的framework层源码部分（app进程可以直接调用的部分）暴露给开发者可以调用


## 具体分析

用户手机里边已经包含了指定版本的系统源码，新下载的app被安装的时候，会apk里的源码内置到framework下的app目录下，也就是说，不管是app进程还是系统进程，他们**共享的同一份源代码**，具体根据不同的启动参数来启动app进程或者系统进程。

比如app进程的启动其实是调用的ActivityThread的main方法，系统进程启动的时候调用的SystemServer的main方法，app进程和app进程以及app进程和系统进程大多通过binder进行通信